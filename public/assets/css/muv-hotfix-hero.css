/* === MUV Hotfix Hero — MOBILE ONLY === */
@media (max-width: 480px){
  :root{ --header-h: 64px; }

  /* Header sempre sopra e con chip bianco per il logo */
  .site-header{ position: sticky; top:0; z-index: 1000; background:#FFF !important; }
  .site-header .site-logo{ height:40px; width:auto; object-fit:contain; }

  /* Hero: layerizzazione corretta */
  .hero, .section-hero{ position:relative; isolation:isolate; }
  .hero.has-media::before, .section-hero.has-media::before{
    content:""; position:absolute; inset:0; z-index:0;
    background: rgba(0,0,0,.60); /* overlay per contrasto */
  }
  /* Se non c’è la classe has-media ma esiste un bg-image, simula comunque overlay */
  .hero::before, .section-hero::before{
    content:""; position:absolute; inset:0; z-index:0; pointer-events:none;
    background: rgba(0,0,0,.60);
  }
  /* Overlay più forte quando richiesto dallo script QA */
  .hero.overlay-strong::before, .section-hero.overlay-strong::before,
  .hero.has-media.overlay-strong::before, .section-hero.has-media.overlay-strong::before{
    background: rgba(0,0,0,.68);
  }
  /* Contenuto hero sopra l’overlay */
  .hero * , .section-hero *{ position:relative; z-index:1; }

  /* Spaziatura sotto l’header (safe area iOS inclusa) */
  .hero, .section-hero{ padding-top: calc(var(--header-h) + env(safe-area-inset-top, 0px) + 16px); }

  /* Tipografia a prova di overflow */
  .hero h1, .section-hero h1{
    font-size: clamp(22px, 5.8vw, 32px);
    line-height: 1.15;
    letter-spacing: 0;
    margin: 0 0 6px 0;
    color:#FFF !important;
    text-shadow: none !important;
    -webkit-text-stroke: 0 !important;
    word-break: normal; overflow-wrap: anywhere;
  }
  .hero h2, .hero p, .section-hero h2, .section-hero p{
    color:#FFF !important; text-shadow:none !important; margin: 0 0 8px 0;
  }

  /* Stop a blend/duplicati/ombre “finte” che creano la scritta grigia sotto */
  .hero [class*="shadow"], .hero [class*="blend"], .hero [style*="mix-blend-mode"],
  .section-hero [class*="shadow"], .section-hero [class*="blend"], .section-hero [style*="mix-blend-mode"]{
    mix-blend-mode: normal !important; filter:none !important; opacity:1 !important;
  }
  /* Se ci sono due H1 consecutivi (effetto duplicato), nascondi il secondo su mobile */
  .hero h1 + h1, .section-hero h1 + h1{ display:none !important; }

  /* Colori dentro l’H1 (span blu/viola) → forza bianco per accessibilità */
  .hero h1 span, .section-hero h1 span{ color:#FFF !important; background:transparent !important; }

  /* CTA */
  .hero .btn, .section-hero .btn{ 
    min-height:44px; display:inline-flex; align-items:center; font-weight:700;
    box-shadow: 0 3px 8px rgba(0,0,0,.25);
  }
  .hero .btn:focus-visible, .section-hero .btn:focus-visible{ outline:3px solid #FFF; outline-offset:2px; }

  /* Evita che una CTA sticky (WhatsApp) copra il testo dell’hero */
  .cta-sticky, .whatsapp-sticky{ bottom: calc(env(safe-area-inset-bottom, 0px) + 12px) !important; z-index: 999; }
  .hero, .section-hero{ padding-bottom: 20px; }
}
